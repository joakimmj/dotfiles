# modifier
set $mod Mod4

# navigation
set $left h
set $down j
set $up k
set $right l

# workspaces
set $wp1 1:www
set $wp2 2:default
set $wp3 3:edit
set $wp4 4:music
set $wp5 5:graphics
set $wp6 6:chat
set $wp7 7
set $wp8 8
set $wp9 9
set $wp10 10

# modes
set $mode-default "default"
set $mode-resize "Resize windows"
set $mode-layout "[n]ormal  |  [t]abbed   |  [s]tacked  |  [f]loating  |  [F11] fullscreen"
set $mode-move "[Shift] move to workspace  |  [Ctrl] move to display"
set $mode-system "[l]ock  |  log[o]ut  |  [h]ibernate  |  [s]uspend  |  [p]oweroff  |  [r]eboot]"
#set $mode-system "(l) lock (e) logout (s) suspend (h) hibernate (r) reboot (p) shutdown"

# apps
set $term wezterm
set $menu rofi -show run
set $menu-daemon rofi -show drun
set $web-browser firefox
set $web-browser-private firefox --private-window
set $file-browser wezterm -e yazi
set $editor wezterm -e nvim

include /etc/sway/config-vars.d/*

# input configuration
input "*" {
    xkb_layout "us"
    xkb_variant "altgr-intl"
    xkb_options "ctrl:nocaps"
}
input "type:touchpad" {
    natural_scroll enabled
    dwt enabled
    tap enabled
}

# output configuration
output * bg ~/.config/sway/programmer-desk-corner.PNG fill
#
# Example configuration:
#
#   output HDMI-A-1 resolution 1920x1080 position 1920,0
#
# You can get the names of your outputs by running: swaymsg -t get_outputs

# idle configuration
#
# Example configuration:
#
# exec swayidle -w \
#          timeout 300 'swaylock -f -c 000000' \
#          timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
#          before-sleep 'swaylock -f -c 000000'

# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

# styling
font pango:JetBrains Mono 11
default_border none
default_floating_border pixel 3
titlebar_padding 1
titlebar_border_thickness 0
hide_edge_borders both
default_orientation auto
workspace_layout default

# window colours        border  background text    indicator childBorder
client.focused          #4c7899 #285577    #ffffff #2e9ef4   #285577
client.focused_inactive #333333 #5f676a    #ffffff #484e50   #5F676A
client.unfocused        #333333 #222222    #888888 #292d2e   #222222
client.urgent           #2f343a #900000    #ffffff #900000   #900000
client.placeholder      #000000 #0c0c0c    #ffffff #000000   #0c0c0c
client.background       #ffffff
# client.focused          #4c7899 #285577    #ffffff #2e9ef4   #285577
# client.focused_inactive #333333 #5f676a    #ffffff #484e50   #5F676A
# client.unfocused        #333333 #222222    #888888 #292d2e   #222222
# client.urgent           #2f343a #900000    #ffffff #900000   #900000
# client.placeholder      #000000 #0c0c0c    #ffffff #000000   #0c0c0c
# client.background       #ffffff

focus_follows_mouse no
workspace_auto_back_and_forth no

floating_modifier $mod normal

# Key bindings

# terminal
bindsym $mod+t exec $term
for_window [app_id="term-popup"] floating enable, resize set 80 ppt 80 ppt, border pixel 3
bindsym $mod+Shift+t exec wezterm start --class term-popup

# web browser
bindsym $mod+w workspace $wp1;exec $web-browser
bindsym Shift+$mod+w exec $web-browser
bindsym Ctrl+$mod+w exec $web-browser-private

# file browser
bindsym $mod+f exec $file-browser

# editor
bindsym $mod+e workspace $wp3;exec $editor
bindsym Shift+$mod+e exec $editor

# print help
for_window [app_id="term-popup-help"] floating enable, resize set 830 px 80 ppt, border pixel 3
bindsym $mod+p exec wezterm start --class term-popup-help -- less ~/.config/sway/keybindings.txt

# task managerwezterm -e less ~/.config/sway/keybindings.txt
for_window [app_id="term-popup-task-manager"] floating enable, resize set 80 ppt 80 ppt, border pixel 3
bindsym Ctrl+Alt+Delete exec wezterm start --class term-popup-task-manager -- htop

# kill focused pane
bindsym $mod+Shift+q kill
bindsym Alt+F4 kill

# fullscreen focused pane
bindsym $mod+F11 fullscreen

# start app launcher
bindsym $mod+Return exec $menu-daemon
bindsym $mod+Shift+Return exec $menu

# reload the configuration file
bindsym $mod+Shift+c reload

# focus pane
bindsym $mod+$left focus left
bindsym $mod+Left focus left
bindsym $mod+$down focus down
bindsym $mod+Down focus down
bindsym $mod+$up focus up
bindsym $mod+Up focus up
bindsym $mod+$right focus right
bindsym $mod+Right focus right

# move pane
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Right move right

# switch to workspace
bindsym $mod+1 workspace $wp1
bindsym $mod+2 workspace $wp2
bindsym $mod+3 workspace $wp3
bindsym $mod+4 workspace $wp4
bindsym $mod+5 workspace $wp5
bindsym $mod+6 workspace $wp6
bindsym $mod+7 workspace $wp7
bindsym $mod+8 workspace $wp8
bindsym $mod+9 workspace $wp9
bindsym $mod+0 workspace $wp10

bindsym $mod+CTRL+Right workspace next
bindsym $mod+CTRL+$right workspace next
bindsym ALT+TAB workspace next

bindsym $mod+CTRL+Left workspace prev
bindsym $mod+CTRL+$left workspace prev
bindsym Shift+ALT+TAB workspace prev

# move focused pane to workspace
bindsym $mod+Shift+1 move container to workspace $wp1; workspace $wp1
bindsym $mod+Shift+2 move container to workspace $wp2; workspace $wp2
bindsym $mod+Shift+3 move container to workspace $wp3; workspace $wp3
bindsym $mod+Shift+4 move container to workspace $wp4; workspace $wp4
bindsym $mod+Shift+5 move container to workspace $wp5; workspace $wp5
bindsym $mod+Shift+6 move container to workspace $wp6; workspace $wp6
bindsym $mod+Shift+7 move container to workspace $wp7; workspace $wp7
bindsym $mod+Shift+8 move container to workspace $wp8; workspace $wp8
bindsym $mod+Shift+9 move container to workspace $wp9; workspace $wp9
bindsym $mod+Shift+0 move container to workspace $wp10; workspace $wp10

# modes
mode $mode-resize {
    bindsym $left resize shrink width 10px
    bindsym Left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym Down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym Up resize shrink height 10px
    bindsym $right resize grow width 10px
    bindsym Right resize grow width 10px

    # return to default mode
    bindsym Return mode $mode-default
    bindsym Escape mode $mode-default
}
bindsym $mod+r mode $mode-resize

mode $mode-layout {
    bindsym n layout toggle split
    bindsym t layout tabbed
    bindsym s layout stacking
    bindsym F11 fullscreen
    bindsym f floating toggle ; [floating] resize set 80 ppt 80 ppt ; move position center ; border pixel 3
    bindsym Shift+f focus mode_toggle

    # return to default mode
    bindsym Return mode $mode-default
    bindsym Escape mode $mode-default
}
bindsym $mod+o mode $mode-layout

mode $mode-move  {
    # move focused window
    bindsym $left move left
    bindsym Left move left
    bindsym $down move down
    bindsym Down move down
    bindsym $up move up
    bindsym Up move up
    bindsym $right move right
    bindsym Right move right

    # move focused container to workspace
    bindsym 1 move container to workspace $wp1; workspace $wp1
    bindsym 2 move container to workspace $wp2; workspace $wp2
    bindsym 3 move container to workspace $wp3; workspace $wp3
    bindsym 4 move container to workspace $wp4; workspace $wp4
    bindsym 5 move container to workspace $wp5; workspace $wp5
    bindsym 6 move container to workspace $wp6; workspace $wp6
    bindsym 7 move container to workspace $wp7; workspace $wp7
    bindsym 8 move container to workspace $wp8; workspace $wp8
    bindsym 9 move container to workspace $wp9; workspace $wp9
    bindsym 0 move container to workspace $wp10; workspace $wp10

    bindsym Shift+$left move to workspace prev; workspace prev
    bindsym Shift+Left move to workspace prev; workspace prev
    bindsym Shift+$right move to workspace next; workspace next
    bindsym Shift+Right move to workspace next; workspace next

    # move workspace to display
    bindsym Ctrl+$left move workspace to output left
    bindsym Ctrl+Left move workspace to output left
    bindsym Ctrl+Down move workspace to output down
    bindsym Ctrl+Up move workspace to output up
    bindsym Ctrl+$right move workspace to output right
    bindsym Ctrl+Right move workspace to output right

    # return to default mode
    bindsym Return mode $mode-default
    bindsym Escape mode $mode-default
}
bindsym $mod+m mode $mode-move

mode $mode-system {
    # bindsym s exec --no-startup-id gksudo pm-suspend, mode $mode-default, exec pkill i3-nagbar
    # bindsym h exec --no-startup-id gksudo pm-hibernate, mode $mode-default, exec pkill i3-nagbar
    # bindsym r exec gksudo reboot
    # bindsym p exec gksudo poweroff
    bindsym l exec swaylock --image ~/.config/sway/programmer-desk-corner.PNG --scaling fill; mode $mode-default
    bindsym o exec swaymsg exit;

    # return to default mode
    bindsym Return mode $mode-default
    bindsym Escape mode $mode-default
}
bindsym $mod+x mode $mode-system

#   "h" = "exec systemctl hibernate; mode '${mode-default}'";
#   "s" = "exec systemctl suspend; mode '${mode-default}'";
#   "p" = "exec systemctl poweroff; mode '${mode-default}'";
#   "r" = "exec systemctl reboot; mode '${mode-default}'";

bar {
    swaybar_command waybar
    position top
    font pango:JetBrains Mono 15
}

include /etc/sway/config.d/*

